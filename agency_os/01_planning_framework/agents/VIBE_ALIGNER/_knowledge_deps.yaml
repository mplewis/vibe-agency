version: "1.0"
agent_id: VIBE_ALIGNER
agent_version: "3.0"

required_knowledge:
  - path: agency_os/01_planning_framework/knowledge/FAE_constraints.yaml
    purpose: "Feasibility Analysis Engine - Technical constraints and v1.0 scope limits"
    critical: true
    used_in_tasks:
      - feasibility_validation
    size: "28KB"
    description: "Defines what features are too ambitious for v1.0, NFR conflicts, typical timelines"

  - path: agency_os/01_planning_framework/knowledge/FDG_dependencies.yaml
    purpose: "Feature Dependency Graph - Logical dependencies between features"
    critical: true
    used_in_tasks:
      - gap_detection
    size: "133KB"
    description: "Maps features to required components (e.g., 'social scheduler' needs 'post database', 'cron service')"

  - path: agency_os/01_planning_framework/knowledge/APCE_rules.yaml
    purpose: "Complexity & Prioritization Engine - Complexity scoring and v1.0 thresholds"
    critical: true
    used_in_tasks:
      - scope_negotiation
    size: "52KB"
    description: "Base complexity per feature type, multipliers, v1.0 thresholds (50-60 points)"

  - path: agency_os/00_system/contracts/ORCHESTRATION_data_contracts.yaml
    purpose: "Data contracts and schemas for all artifacts (feature_spec.json, etc.)"
    critical: true
    used_in_tasks:
      - output_generation
    description: "Defines JSON schema for feature_spec.json output"

optional_knowledge:
  - path: agency_os/01_planning_framework/knowledge/PROJECT_TEMPLATES.yaml
    purpose: "Pre-defined project templates (e.g., 'CLI tool', 'Web app', 'Mobile app')"
    critical: false
    used_in_tasks:
      - feature_extraction
    load_if: ${user_request} matches template pattern
    description: "Can speed up feature extraction for common project types"

task_specific_loading:
  education_calibration:
    required: []
    optional: []
    notes: "No knowledge files needed - purely conversational"

  feature_extraction:
    required: []
    optional:
      - PROJECT_TEMPLATES.yaml
    notes: "Templates are optional, can extract from scratch"

  feasibility_validation:
    required:
      - FAE_constraints.yaml
    optional: []
    notes: "FAE is critical - cannot proceed without it"

  gap_detection:
    required:
      - FDG_dependencies.yaml
    optional: []
    notes: "FDG is critical - cannot detect missing dependencies without it"

  scope_negotiation:
    required:
      - APCE_rules.yaml
    optional: []
    notes: "APCE is critical - cannot calculate complexity without it"

  output_generation:
    required:
      - ORCHESTRATION_data_contracts.yaml
    optional: []
    notes: "Data contracts are critical - cannot validate JSON schema without it"

notes: |
  VIBE_ALIGNER relies heavily on three knowledge engines:
  1. FAE (Feasibility) - Rejects impossible features
  2. FDG (Dependencies) - Detects missing components
  3. APCE (Complexity) - Prevents scope creep

  Without these knowledge files, the agent cannot perform its core validation functions.

  The runtime must load knowledge files per task based on task_specific_loading rules.
