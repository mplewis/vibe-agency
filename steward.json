{
  "$schema": "https://steward-protocol.org/schemas/v1.0.0/steward.json",
  "steward_version": "1.0.0",

  "agent": {
    "id": "vibe-agency-orchestrator",
    "name": "STEWARD",
    "version": "1.0.0",
    "class": "orchestration_operator",
    "specialization": "sdlc_management",
    "status": "active",
    "fingerprint": "sha256:766962652d6167656e63793a6761642d3030303a6f70657261746f722d696e76657273696f6e",
    "issued_by": "vibe-agency",
    "issued_date": "2025-11-22T00:00:00Z"
  },

  "credentials": {
    "mandate": [
      {
        "capability": "orchestrate_sdlc",
        "scope": ["planning", "coding", "testing", "deployment", "maintenance"]
      },
      {
        "capability": "delegate_to_specialist",
        "scope": ["planning_specialist", "coding_specialist", "testing_specialist", "deployment_specialist", "maintenance_specialist"]
      },
      {
        "capability": "execute_playbook",
        "scope": ["restaurant_app", "healthcare_app", "ecommerce_app", "session_resume", "architecture_design", "code_quality_audit"]
      },
      {
        "capability": "kernel_dispatch",
        "scope": ["task_scheduling", "fifo_queue", "ledger_tracking"]
      },
      {
        "capability": "verify_system_health",
        "scope": ["test_execution", "quality_gates", "git_status", "boot_reliability"]
      }
    ],

    "constraints": [
      {
        "forbidden": "bypass_tests",
        "reason": "Test-first discipline mandatory - never claim 'Complete ✅' without passing tests"
      },
      {
        "forbidden": "skip_pre_push_checks",
        "reason": "Quality gates must pass - pre-push checks are mandatory before every commit"
      },
      {
        "forbidden": "commit_low_coverage",
        "reason": "Minimum 80% test coverage enforced - no code commits below threshold"
      },
      {
        "forbidden": "speculate_about_status",
        "reason": "Verification-first approach - always run verification commands, never assume"
      },
      {
        "forbidden": "push_to_unauthorized_branches",
        "reason": "Security constraint - only claude/* branches matching session ID allowed"
      },
      {
        "forbidden": "bypass_iron_dome",
        "reason": "Security layer mandatory - tool safety guard cannot be disabled"
      },
      {
        "forbidden": "destructive_git_operations",
        "reason": "Safety constraint - no force push, hard reset without explicit authorization"
      }
    ],

    "prime_directive": "Trust tests over claims, verify over assume, and maintain operational reliability through test-first discipline."
  },

  "capabilities": {
    "interfaces": [
      {
        "type": "cli",
        "protocol": "bash + Python scripts",
        "endpoint": "./bin/vibe --json",
        "health_check": "./bin/vibe status --json"
      },
      {
        "type": "cli",
        "protocol": "system initialization",
        "endpoint": "./bin/system-boot.sh",
        "health_check": "./bin/verify-claude-md.sh"
      }
    ],

    "operations": [
      {
        "name": "orchestrate_sdlc",
        "description": "Complete software development lifecycle orchestration through 5 specialized agents",
        "input_schema": {
          "type": "object",
          "required": ["domain"],
          "properties": {
            "domain": {
              "type": "string",
              "description": "Application domain (restaurant_app, healthcare_app, etc.)",
              "examples": ["restaurant_app", "healthcare_app"]
            },
            "phase": {
              "type": "string",
              "enum": ["PLANNING", "CODING", "TESTING", "DEPLOYMENT", "MAINTENANCE"],
              "description": "Specific SDLC phase to execute"
            },
            "requirements": {
              "type": "object",
              "description": "Domain-specific requirements",
              "additionalProperties": true
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["data", "metadata"],
          "properties": {
            "data": {
              "type": "object",
              "description": "Phase artifacts (architecture.md, code files, test reports, etc.)"
            },
            "metadata": {
              "type": "object",
              "required": ["phase", "specialist", "execution_time", "test_coverage"],
              "properties": {
                "phase": {"type": "string"},
                "specialist": {"type": "string"},
                "execution_time": {"type": "string"},
                "test_coverage": {"type": "number", "minimum": 0, "maximum": 1}
              }
            }
          }
        },
        "latency_ms": 300000,
        "idempotent": false,
        "versioned": true
      },

      {
        "name": "delegate_to_specialist",
        "description": "Route task to domain-specialized agent based on phase requirements",
        "input_schema": {
          "type": "object",
          "required": ["phase_name"],
          "properties": {
            "phase_name": {
              "type": "string",
              "enum": ["PLANNING", "CODING", "TESTING", "DEPLOYMENT", "MAINTENANCE"]
            },
            "context": {
              "type": "object",
              "description": "Task context and requirements"
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["artifacts", "metadata"],
          "properties": {
            "artifacts": {
              "type": "object",
              "description": "Phase-specific artifacts"
            },
            "metadata": {
              "type": "object",
              "description": "Execution metadata"
            }
          }
        },
        "latency_ms": 120000,
        "idempotent": false,
        "versioned": true
      },

      {
        "name": "execute_playbook",
        "description": "Execute domain-specific workflow from playbook library",
        "input_schema": {
          "type": "object",
          "required": ["playbook_name"],
          "properties": {
            "playbook_name": {
              "type": "string",
              "description": "Playbook identifier",
              "examples": ["restaurant_app", "healthcare_app", "session_resume"]
            },
            "context": {
              "type": "object",
              "description": "Playbook execution context",
              "additionalProperties": true
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["status", "results"],
          "properties": {
            "status": {
              "type": "string",
              "enum": ["success", "failure", "partial"]
            },
            "results": {
              "type": "object",
              "description": "Workflow execution results"
            }
          }
        },
        "latency_ms": 600000,
        "idempotent": false,
        "versioned": true
      },

      {
        "name": "verify_system_health",
        "description": "Quality gate validation with test-first enforcement",
        "input_schema": {
          "type": "object",
          "properties": {
            "include_tests": {
              "type": "boolean",
              "default": true,
              "description": "Run full test suite"
            },
            "include_lint": {
              "type": "boolean",
              "default": true,
              "description": "Run linting checks"
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["status", "metrics"],
          "properties": {
            "status": {
              "type": "string",
              "enum": ["healthy", "degraded", "unhealthy"]
            },
            "metrics": {
              "type": "object",
              "required": ["test_pass_rate", "test_coverage", "boot_success_rate"],
              "properties": {
                "test_pass_rate": {"type": "number", "minimum": 0, "maximum": 1},
                "test_coverage": {"type": "number", "minimum": 0, "maximum": 1},
                "boot_success_rate": {"type": "number", "minimum": 0, "maximum": 1},
                "lint_errors": {"type": "integer", "minimum": 0}
              }
            }
          }
        },
        "latency_ms": 30000,
        "idempotent": true,
        "versioned": true
      },

      {
        "name": "kernel_dispatch",
        "description": "Kernel-based task scheduling with SQLite persistence (FIFO)",
        "input_schema": {
          "type": "object",
          "required": ["agent_id", "task_type", "payload"],
          "properties": {
            "agent_id": {"type": "string"},
            "task_type": {"type": "string"},
            "payload": {"type": "object"}
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["task_id", "status", "result"],
          "properties": {
            "task_id": {"type": "string"},
            "status": {
              "type": "string",
              "enum": ["queued", "executing", "completed", "failed"]
            },
            "result": {
              "type": "object",
              "description": "Task execution result"
            }
          }
        },
        "latency_ms": 100,
        "idempotent": false,
        "versioned": true
      },

      {
        "name": "filesystem_navigation",
        "description": "Navigate filesystem structure with list and search capabilities",
        "input_schema": {
          "type": "object",
          "required": ["operation"],
          "properties": {
            "operation": {
              "type": "string",
              "enum": ["list", "search"],
              "description": "Filesystem operation type"
            },
            "path": {
              "type": "string",
              "description": "Directory path to list or search root"
            },
            "pattern": {
              "type": "string",
              "description": "Search pattern (required for search operation)"
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["results", "operation_type"],
          "properties": {
            "results": {
              "type": "array",
              "description": "List of found files/directories"
            },
            "operation_type": {"type": "string"}
          }
        },
        "latency_ms": 500,
        "idempotent": true,
        "versioned": true
      },

      {
        "name": "agenda_management",
        "description": "Manage system agenda with add, list, and completion tracking",
        "input_schema": {
          "type": "object",
          "required": ["operation"],
          "properties": {
            "operation": {
              "type": "string",
              "enum": ["add", "list", "complete"],
              "description": "Agenda operation type"
            },
            "task": {
              "type": "object",
              "description": "Task object (required for add operation)"
            },
            "task_id": {
              "type": "string",
              "description": "Task ID (required for complete operation)"
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["status", "tasks"],
          "properties": {
            "status": {"type": "string"},
            "tasks": {
              "type": "array",
              "description": "List of agenda items"
            }
          }
        },
        "latency_ms": 100,
        "idempotent": false,
        "versioned": true
      },

      {
        "name": "system_resilience",
        "description": "System resilience with Phoenix fallback (SQLite → Memory)",
        "input_schema": {
          "type": "object",
          "properties": {
            "check_type": {
              "type": "string",
              "enum": ["phoenix_status", "fallback_test", "recovery"],
              "description": "Resilience check type"
            }
          }
        },
        "output_schema": {
          "type": "object",
          "required": ["status", "fallback_active"],
          "properties": {
            "status": {
              "type": "string",
              "enum": ["primary", "fallback", "degraded"]
            },
            "fallback_active": {"type": "boolean"},
            "metrics": {
              "type": "object",
              "description": "Resilience metrics"
            }
          }
        },
        "latency_ms": 50,
        "idempotent": true,
        "versioned": true
      }
    ],

    "quality_metrics": {
      "accuracy": 0.963,
      "test_coverage": 0.963,
      "uptime": 1.0,
      "latency_p99_ms": 4800
    }
  },

  "runtime": {
    "introspection_endpoint": "./bin/vibe status --json",
    "state_query": "./bin/vibe ledger-query --json",
    "logs": "./logs/vibe.log"
  },

  "governance": {
    "principal": "vibe-agency-core-team",
    "contact": "https://github.com/kimeisele/vibe-agency",
    "audit_trail": "vibe_core/ledger.db",
    "transparency": "public"
  },

  "trust": {
    "trust_score": 0.94,
    "trust_breakdown": {
      "test_coverage": {
        "value": 0.963,
        "weight": 0.30,
        "contribution": 0.29
      },
      "uptime": {
        "value": 1.0,
        "weight": 0.20,
        "contribution": 0.20
      },
      "success_rate": {
        "value": 0.95,
        "weight": 0.25,
        "contribution": 0.24
      },
      "attestation_freshness": {
        "value": 0.5,
        "weight": 0.10,
        "contribution": 0.05,
        "note": "Manual refresh (Level 2), upgrade to Level 3 for auto-refresh"
      },
      "endorsements": {
        "count": 2,
        "value": 0.73,
        "weight": 0.15,
        "contribution": 0.11,
        "endorsers": ["vibe-agency-core-team", "kimeisele"]
      }
    },
    "successful_delegations": 150,
    "failed_delegations": 8,
    "last_updated": "2025-11-21T00:00:00Z"
  },

  "attestation": {
    "last_attested": null,
    "attestation_expires": null,
    "status": "manual_refresh",
    "attestation_policy": "Level 2 (Standard) - manual refresh, upgrade to Level 3 for auto-refresh",
    "next_refresh": null,
    "refresh_interval_hours": null
  },

  "architecture": {
    "protocol": "GAD-000",
    "description": "Operator Inversion Principle - Kernel-based AI OS with hierarchical specialist agents",
    "components": [
      {
        "name": "VibeKernel",
        "role": "FIFO scheduler + agent dispatcher",
        "architecture_refs": ["ARCH-022", "ARCH-023"]
      },
      {
        "name": "VibeLedger",
        "role": "SQLite-based task execution tracking",
        "architecture_refs": ["ARCH-024"]
      },
      {
        "name": "The Cortex",
        "role": "LLM provider abstraction layer",
        "architecture_refs": ["ARCH-025"]
      },
      {
        "name": "RouterBridge",
        "role": "Playbook → Specialist routing logic",
        "architecture_refs": []
      },
      {
        "name": "SDLC Specialists",
        "role": "Domain-specific execution (Planning, Coding, Testing, Deployment, Maintenance)",
        "count": 5,
        "architecture_refs": []
      },
      {
        "name": "PlaybookEngine",
        "role": "YAML-driven workflow execution",
        "architecture_refs": []
      },
      {
        "name": "Iron Dome",
        "role": "Tool safety guard for security enforcement",
        "architecture_refs": ["ARCH-011"]
      }
    ]
  },

  "pricing": {
    "model": "free",
    "currency": null,
    "free_tier": {
      "included": ["discovery", "verification", "delegation", "playbook_execution", "ledger_tracking"],
      "limits": {
        "delegations_per_day": null,
        "max_task_duration_minutes": null
      }
    },
    "paid_tiers": [],
    "notes": "Open source project - free for all use cases"
  },

  "sla": {
    "guarantees": [
      {
        "metric": "boot_success_rate",
        "target": 1.0,
        "breach_threshold": 0.95,
        "current_value": 1.0,
        "status": "met"
      },
      {
        "metric": "test_pass_rate",
        "target": 0.96,
        "breach_threshold": 0.80,
        "current_value": 0.963,
        "status": "met"
      },
      {
        "metric": "test_coverage",
        "target": 0.80,
        "breach_threshold": 0.70,
        "current_value": 0.963,
        "status": "exceeded"
      }
    ],
    "penalties": [],
    "monitoring": "./bin/verify-claude-md.sh"
  },

  "security": {
    "cryptographic_signing": true,
    "key_rotation": false,
    "key_rotation_notes": "Planned for Level 3 upgrade",
    "multi_sig": false,
    "audit_logging": true,
    "audit_location": "vibe_core/ledger.db",
    "security_layers": [
      {
        "name": "Iron Dome",
        "description": "Tool safety guard - prevents unauthorized tool use",
        "status": "active"
      },
      {
        "name": "Branch Restrictions",
        "description": "Git operations restricted to claude/* branches matching session ID",
        "status": "active"
      },
      {
        "name": "Test-First Enforcement",
        "description": "Pre-push checks mandatory, zero tolerance for broken tests",
        "status": "active"
      }
    ]
  },

  "roadmap": {
    "current_phase": "Phase 2.6 - Hybrid Agent Integration",
    "current_phase_progress": 0.0,
    "current_task": "ARCH-026 (SpecialistAgent Adapter)",
    "next_phase": "Phase 3.0 - Federation & Multi-Agent Ecosystem",
    "protocol_compliance_target": "Level 3 (Advanced)",
    "protocol_compliance_eta": "Phase 3.0"
  },

  "known_issues": [
    {
      "description": "4 deployment tests failing (expects project_manifest.json artifact)",
      "severity": "low",
      "impact": "No blocking issues, all core workflows operational",
      "tracking": "Expected failure, documented in INDEX.md"
    }
  ],

  "documentation": {
    "steward_md": "./STEWARD.md",
    "claude_md": "./CLAUDE.md",
    "architecture": "./docs/architecture/",
    "current_state": "./docs/architecture/ARCHITECTURE_CURRENT_STATE.md",
    "protocol_specification": "./docs/protocols/steward/SPECIFICATION.md",
    "trust_model": "./docs/protocols/steward/TRUST_MODEL.md",
    "security": "./docs/protocols/steward/SECURITY.md",
    "error_handling": "./docs/protocols/steward/ERROR_HANDLING.md",
    "federation": "./docs/protocols/steward/FEDERATION.md",
    "failure_modes": "./docs/protocols/steward/FAILURE_MODES.md"
  },

  "registry": {
    "status": "pre_registry",
    "registry_type": "git_based",
    "planned_registry": "steward-registry.org",
    "planned_registry_phase": "Phase 2 - Week 12",
    "discovery_method": "Clone repository and read STEWARD.md"
  }
}
