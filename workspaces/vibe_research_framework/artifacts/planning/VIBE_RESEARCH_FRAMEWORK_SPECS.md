# üéØ VIBE RESEARCH FRAMEWORK - Feature Specifications

**Generated by:** VIBE_ALIGNER v3.0
**Date:** 2025-11-14
**Version:** 1.0.0
**Target Scope:** v1.0 MVP (Integration-Ready)

---

## üìä PROJECT OVERVIEW

**Project Name:** VIBE RESEARCH FRAMEWORK
**Category:** AI Agent Framework Extension
**Scale:** Production (Integration into vibe-agency)
**Target Scope:** v1.0 MVP

**Core Problem:**
Business planning decisions in the current VIBE AGENCY workflow lack fact-based research validation. Users jump directly from idea to Lean Canvas without verifying market data, technical feasibility, or user insights. This leads to hallucinated assumptions and failed pivots.

**Target Users:**
- Entrepreneurs building new ventures
- Product Managers validating business ideas
- Technical Founders needing market + tech validation

---

## üèóÔ∏è ARCHITECTURAL INTEGRATION

### Current State Machine (Before)
```yaml
PLANNING:
  sub_states:
    - BUSINESS_VALIDATION (LEAN_CANVAS_VALIDATOR)
    - FEATURE_SPECIFICATION (VIBE_ALIGNER)
```

### New State Machine (After)
```yaml
PLANNING:
  sub_states:
    - RESEARCH (NEW - OPTIONAL)
      agents:
        - MARKET_RESEARCHER
        - TECH_RESEARCHER
        - FACT_VALIDATOR
        - USER_RESEARCHER
      output: research_brief.json
    - BUSINESS_VALIDATION (LEAN_CANVAS_VALIDATOR)
      input: research_brief.json (optional)
      output: lean_canvas_summary.json
    - FEATURE_SPECIFICATION (VIBE_ALIGNER)
      input: lean_canvas_summary.json
      output: feature_spec.json
```

### Artifact Flow
```
research_brief.json ‚Üí lean_canvas_summary.json ‚Üí feature_spec.json
```

---

## ‚úÖ EXTRACTED FEATURES (Task 02 Output)

### Feature 01: MARKET_RESEARCHER Agent

**ID:** `feature_research_01_market_researcher`
**Name:** Market Research Agent
**Priority:** `must_have` (Core Value Proposition)
**Complexity Score:** 8 (Base: Agent with 6 tasks + knowledge base)

**Input:**
- **Format:** User vision statement (text)
- **Example:** "I want to build a SaaS tool for freelance designers to manage client projects"
- **Constraints:** Min 50 chars, max 500 chars

**Processing:**
1. Task 01: Competitor identification (web search + analysis)
2. Task 02: Pricing analysis (market rate discovery)
3. Task 03: Market size estimation (TAM/SAM/SOM)
4. Task 04: Positioning analysis (differentiation opportunities)
5. Task 05: Risk identification (market saturation, timing)
6. Task 06: Output generation (market_analysis section)

**Output:**
- **Format:** JSON (market_analysis section in research_brief.json)
- **Example:**
```json
{
  "market_analysis": {
    "competitors": [
      {"name": "Asana", "positioning": "Enterprise PM", "pricing": "$10.99/user/mo"},
      {"name": "Monday.com", "positioning": "Visual workflows", "pricing": "$8/user/mo"}
    ],
    "pricing_insights": {
      "low": 5, "median": 12, "high": 30, "currency": "USD", "unit": "user/month"
    },
    "market_size": "TAM: $5.2B, SAM: $400M, SOM: $8M (Year 1)",
    "positioning_opportunities": [
      "Niche focus on creative freelancers (underserved)",
      "Simpler onboarding than Asana"
    ],
    "risks": [
      "High competition in PM space",
      "Switching costs from incumbents"
    ]
  }
}
```
- **Success Criteria:** All competitors cited with sources, pricing data verifiable via web search

**Dependencies:**
- **Required:**
  - WebSearch tool (for competitor research)
  - Market sizing knowledge base (YAML with formulas)
  - Citation validator (ensures sources)
- **Optional:**
  - Third-party APIs (Crunchbase, PitchBook) for funding data

**FAE Validation:** ‚úÖ PASSED
- No FAE violations detected
- Constraints checked: None (research agent)
- Issues: None

---

### Feature 02: TECH_RESEARCHER Agent

**ID:** `feature_research_02_tech_researcher`
**Name:** Technical Feasibility Research Agent
**Priority:** `must_have` (Core Value Proposition)
**Complexity Score:** 8 (Base: Agent with 6 tasks + API evaluation logic)

**Input:**
- **Format:** Feature requirements from user vision
- **Example:** "Need real-time collaboration, file uploads, payment processing"
- **Constraints:** List of technical features (min 1, max 20)

**Processing:**
1. Task 01: API evaluation (rate limits, pricing, reliability via docs)
2. Task 02: Library comparison (npm/PyPI stats, GitHub stars, maintenance)
3. Task 03: Stack recommendation (based on project type)
4. Task 04: Technical constraint identification (FAE-style validation)
5. Task 05: Feasibility validation (flag impossible features)
6. Task 06: Output generation (tech_analysis section)

**Output:**
- **Format:** JSON (tech_analysis section in research_brief.json)
- **Example:**
```json
{
  "tech_analysis": {
    "recommended_apis": [
      {
        "name": "Stripe",
        "purpose": "Payment processing",
        "pricing": "2.9% + 30¬¢ per transaction",
        "rate_limits": "100 req/sec",
        "reliability": "99.99% uptime SLA",
        "source": "https://stripe.com/docs/api"
      }
    ],
    "recommended_libraries": [
      {
        "name": "Socket.io",
        "purpose": "Real-time collaboration",
        "license": "MIT",
        "maintenance_status": "Active (last commit: 2 weeks ago)",
        "github_stars": 58000,
        "source": "https://github.com/socketio/socket.io"
      }
    ],
    "technical_constraints": [
      "Real-time collab requires persistent WebSocket connections (incompatible with serverless - see FAE-TECH-001)"
    ],
    "feasibility_score": "medium",
    "flagged_features": [
      {
        "feature": "Real-time collaborative editor",
        "fae_violation": "FAE-003",
        "recommendation": "Use locking mechanism instead (v1.0)"
      }
    ]
  }
}
```
- **Success Criteria:** All API/library recommendations have verifiable sources, FAE violations cited

**Dependencies:**
- **Required:**
  - WebSearch tool (for API docs, GitHub stats)
  - FAE_constraints.yaml (tech feasibility rules)
  - NPM/PyPI/GitHub scraper (package metadata)
- **Optional:**
  - StackShare API (tech stack insights)

**FAE Validation:** ‚úÖ PASSED
- Constraint: This agent MUST reference FAE rules (see FAE-001 to FAE-022)
- Issues: None

---

### Feature 03: FACT_VALIDATOR Agent

**ID:** `feature_research_03_fact_validator`
**Name:** Fact-Checking & Hallucination Detection Agent
**Priority:** `must_have` (Quality Gate)
**Complexity Score:** 13 (High complexity: NLP analysis + web verification)

**Input:**
- **Format:** Draft research outputs from MARKET_RESEARCHER and TECH_RESEARCHER
- **Example:** Claims like "Market size is $5B" or "Stripe has 99.99% uptime"
- **Constraints:** Must validate ALL claims in research_brief.json

**Processing:**
1. Task 01: Knowledge base audit (like the audit document)
2. Task 02: Claim verification with sources (web search validation)
3. Task 03: Red flag detection (context-collapse, category errors, platitudes)
4. Task 04: Citation requirement enforcement (all claims need 'source:' field)
5. Task 05: Correction recommendations (flag unverifiable claims)
6. Task 06: Output generation (fact_validation section)

**Output:**
- **Format:** JSON (fact_validation section in research_brief.json)
- **Example:**
```json
{
  "fact_validation": {
    "validated_claims": [
      {
        "claim": "Stripe pricing is 2.9% + 30¬¢",
        "source": "https://stripe.com/pricing",
        "verification_status": "VERIFIED",
        "verified_at": "2025-11-14T10:30:00Z"
      }
    ],
    "flagged_hallucinations": [
      {
        "claim": "Market size is $5.2B",
        "issue": "No source cited",
        "red_flag_type": "context-collapse",
        "recommendation": "Provide source (e.g., Gartner report) or remove claim"
      }
    ],
    "citation_index": [
      {"url": "https://stripe.com/pricing", "cited_in": ["tech_analysis.recommended_apis[0]"]},
      {"url": "https://github.com/socketio/socket.io", "cited_in": ["tech_analysis.recommended_libraries[0]"]}
    ],
    "quality_score": "85/100",
    "issues_found": 2,
    "issues_critical": 0
  }
}
```
- **Success Criteria:** All claims either verified with source OR flagged as unverifiable

**Dependencies:**
- **Required:**
  - WebSearch tool (for claim verification)
  - Red flag taxonomy (YAML with hallucination patterns)
  - Citation validator logic
- **Optional:**
  - Fact-checking API (e.g., Google Fact Check Tools API)

**FAE Validation:** ‚ö†Ô∏è FLAGGED FOR REVIEW
- Constraint: FAE-004 (AI/ML feature) - This is NOT a recommendation engine, it's a validation engine (ALLOWED for v1.0)
- Complexity: 13 points (high) - Requires NLP logic for red flag detection
- Issues: Complexity high but justified (critical quality gate)

---

### Feature 04: USER_RESEARCHER Agent

**ID:** `feature_research_04_user_researcher`
**Name:** User Insights & Persona Generation Agent
**Priority:** `should_have` (Valuable but not critical for v1.0)
**Complexity Score:** 5 (Base: Template generation + heuristics)

**Input:**
- **Format:** User vision statement + target customer description
- **Example:** "Target: Freelance designers aged 25-40 who struggle with client communication"
- **Constraints:** Min 1 persona, max 3 personas

**Processing:**
1. Task 01: Persona generation (based on industry templates)
2. Task 02: User pain point identification (extract from vision)
3. Task 03: Interview script creation (generate questions)
4. Task 04: Survey design (generate survey template)
5. Task 05: User journey mapping (basic 5-stage template)
6. Task 06: Output generation (user_insights section)

**Output:**
- **Format:** JSON (user_insights section in research_brief.json)
- **Example:**
```json
{
  "user_insights": {
    "personas": [
      {
        "name": "Sarah the Freelance Designer",
        "age_range": "28-35",
        "job_title": "Freelance Graphic Designer",
        "goals": ["Manage 5-10 clients efficiently", "Get paid on time"],
        "pain_points": ["Losing track of client revisions", "Manual invoicing"],
        "tools_used": ["Figma", "Gmail", "Excel"],
        "quote": "I need a simple way to track all my client projects in one place"
      }
    ],
    "pain_points": [
      "Manual client communication tracking",
      "No centralized file storage",
      "Time-consuming invoicing"
    ],
    "interview_script": {
      "intro": "We're building a tool to help freelancers manage clients. Can I ask you 5 quick questions?",
      "questions": [
        "How do you currently track client projects?",
        "What's the biggest pain point in your workflow?",
        "How much would you pay for a solution?"
      ]
    },
    "user_journeys": [
      {
        "stage": "Discovery",
        "touchpoints": ["Google search", "Designer communities"],
        "emotions": "Frustrated with current tools"
      }
    ]
  }
}
```
- **Success Criteria:** Personas based on industry-standard templates, interview scripts actionable

**Dependencies:**
- **Required:**
  - Persona templates (YAML knowledge base)
  - Pain point extraction heuristics
- **Optional:**
  - User research API (e.g., UserInterviews.com)

**FAE Validation:** ‚úÖ PASSED
- No AI/ML generation (template-based)
- Complexity: 5 points (medium)
- Issues: None

---

## üîó INTEGRATION FEATURE: LEAN_CANVAS_VALIDATOR Update

**ID:** `feature_integration_01_lean_canvas_update`
**Name:** Update LEAN_CANVAS_VALIDATOR to accept research_brief.json
**Priority:** `must_have` (Required for integration)
**Complexity Score:** 3 (Simple data contract update)

**Input:**
- **Format:** research_brief.json (optional parameter)
- **Example:** Full research_brief.json from RESEARCH phase
- **Constraints:** Must handle BOTH legacy mode (no research) and new mode (with research)

**Processing:**
1. Check if research_brief.json exists
2. If YES:
   - Extract market_analysis ‚Üí Customer Segments & Channels
   - Extract tech_analysis ‚Üí Solution feasibility
   - Extract user_insights ‚Üí Problem validation
   - Pre-populate Lean Canvas fields
3. If NO:
   - Run as normal (legacy mode)

**Output:**
- **Format:** lean_canvas_summary.json (enhanced with research insights)
- **Success Criteria:** No breaking changes to existing workflow

**Dependencies:**
- **Required:**
  - ORCHESTRATION_data_contracts.yaml (add research_brief.schema.json)
  - LEAN_CANVAS_VALIDATOR agent update
- **Optional:** None

**FAE Validation:** ‚úÖ PASSED
- Constraint: Zero breaking changes (backward compatibility)
- Complexity: 3 points (data mapping only)
- Issues: None

---

## üéØ TOTAL FEATURE COUNT

| Feature | Priority | Complexity | Effort Estimate |
|---------|----------|------------|-----------------|
| MARKET_RESEARCHER | Must Have | 8 | 2-3 weeks |
| TECH_RESEARCHER | Must Have | 8 | 2-3 weeks |
| FACT_VALIDATOR | Must Have | 13 | 3-5 weeks |
| USER_RESEARCHER | Should Have | 5 | 1-2 weeks |
| LEAN_CANVAS Update | Must Have | 3 | 3-5 days |

**Total Complexity:** 37 points
**APCE Budget (v1.0):** 60 points
**Budget Status:** ‚úÖ **WITHIN BUDGET** (61% utilization)

---

## üìã SCOPE NEGOTIATION (Task 05 Output)

### Complexity Breakdown
- **Must Have:** 32 points (87% of scope)
- **Should Have:** 5 points (13% of scope)
- **Could Have:** 0 points
- **Won't Have (v1.0):** 0 points

### Timeline Estimate
**8-12 weeks** (assuming 1 developer)

### v1.0 Inclusions
‚úÖ All 4 research agents
‚úÖ research_brief.json schema
‚úÖ LEAN_CANVAS_VALIDATOR integration
‚úÖ Citation-backed knowledge bases
‚úÖ Optionality (user can skip RESEARCH phase)

### v2.0 Deferrals
- Advanced ML-based claim verification (upgrade FACT_VALIDATOR)
- Real-time competitor monitoring (upgrade MARKET_RESEARCHER)
- Integration with third-party research APIs (Crunchbase, PitchBook)

---

## ‚úÖ VALIDATION SUMMARY

### FAE (Feasibility Analysis Engine)
- **Status:** ‚úÖ PASSED
- **Flagged Features:** 1 (FACT_VALIDATOR - high complexity but justified)
- **Violations:** 0
- **Recommendations:** None

### FDG (Feature Dependency Graph)
- **Status:** ‚úÖ PASSED
- **Missing Dependencies:** 0
- **Circular Dependencies:** 0
- **Critical Path:** MARKET_RESEARCHER ‚Üí TECH_RESEARCHER ‚Üí FACT_VALIDATOR ‚Üí LEAN_CANVAS_VALIDATOR

### APCE (Complexity & Prioritization Engine)
- **Status:** ‚úÖ PASSED
- **Total Complexity:** 37 points / 60 budget
- **Budget Utilization:** 61%
- **Must Have Budget:** 32/36 points (89% - ‚ö†Ô∏è Close to 90% limit but acceptable)

---

## üöÄ READY FOR GENESIS_BLUEPRINT

**Handoff Status:** ‚úÖ READY
**Next Step:** Generate technical architecture with GENESIS_BLUEPRINT

This specification is complete, validated, and ready for implementation planning.

---

**End of VIBE_ALIGNER Output**
